<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
  <meta name="description" content="ØªØ·Ø¨ÙŠÙ‚ Ù…Ø§Ù„ÙŠ Ø´Ø§Ù…Ù„ Ù„Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù…ØµØ±ÙˆÙØ§ØªØŒ Ø§Ù„Ø§Ø³ØªØ«Ù…Ø§Ø±ØŒ ÙˆØ§Ù„Ø¯ÙŠÙˆÙ† Ù…Ø¹ Ø¯Ø¹Ù… Ø§Ù„Ø°ÙƒØ§Ø¡ Ø§Ù„Ø§ØµØ·Ù†Ø§Ø¹ÙŠ">
  <meta name="theme-color" content="#0ea5e9" />
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="apple-mobile-web-app-title" content="Ù…Ø­ÙØ¸ØªÙŠ Ø§Ù„Ø°ÙƒÙŠØ©">
  <meta name="application-name" content="Ù…Ø­ÙØ¸ØªÙŠ Ø§Ù„Ø°ÙƒÙŠØ©">
  <meta name="mobile-web-app-capable" content="yes">
  <meta name="msapplication-TileColor" content="#0ea5e9">
  <meta name="msapplication-tap-highlight" content="no">
  
  <title>Ù…Ø­ÙØ¸ØªÙŠ Ø§Ù„Ø°ÙƒÙŠØ©</title>
  
  <!-- PWA Manifest -->
  <link rel="manifest" href="/manifest.json" />
  
  <!-- Apple Touch Icons -->
  <link rel="apple-touch-icon" href="/icon-192x192.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icon-192x192.png">
  <link rel="apple-touch-icon" sizes="167x167" href="/icon-192x192.png">
  
  <!-- Favicon -->
  <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
  <link rel="shortcut icon" href="/favicon.ico">
  
  <!-- Tailwind CSS -->
  <script src="https://cdn.tailwindcss.com"></script>
  <link href="https://fonts.googleapis.com/css2?family=Tajawal:wght@300;400;500;700;800&display=swap" rel="stylesheet">
  
  <script>
    tailwind.config = {
      darkMode: 'class',
      theme: {
        extend: {
          fontFamily: {
            sans: ['Tajawal', 'sans-serif'],
          },
          colors: {
            primary: {
              50: '#f0f9ff',
              100: '#e0f2fe',
              500: '#0ea5e9',
              600: '#0284c7',
              700: '#0369a1',
            },
            emerald: {
              500: '#10b981',
              600: '#059669',
            },
            dark: {
              900: '#0f172a',
              800: '#1e293b',
              700: '#334155',
              200: '#e2e8f0',
              100: '#f1f5f9'
            }
          }
        }
      }
    }
  </script>
  
  <style>
    body {
      font-family: 'Tajawal', sans-serif;
      -webkit-tap-highlight-color: transparent;
    }
    .no-scrollbar::-webkit-scrollbar {
      display: none;
    }
    .no-scrollbar {
      -ms-overflow-style: none;
      scrollbar-width: none;
    }
    /* ØªØ­Ø³ÙŠÙ† Ø§Ù„Ù„Ù…Ø³ Ø¹Ù„Ù‰ Ø§Ù„Ø£Ø¬Ù‡Ø²Ø© Ø§Ù„Ù…Ø­Ù…ÙˆÙ„Ø© */
    @media (max-width: 768px) {
      button, a {
        min-height: 44px;
        min-width: 44px;
      }
    }
  </style>
</head>
<body class="bg-gray-50 dark:bg-dark-900 text-gray-800 dark:text-dark-200">
  <div id="root"></div>
  
  <!-- PWA Installation Prompt Script -->
  <script>
    // Ø§Ù„ÙƒØ´Ù Ø¹Ù† Ù…ØªØµÙØ­Ø§Øª iOS
    const isIOS = /iPad|iPhone|iPod/.test(navigator.userAgent) && !window.MSStream;
    
    // Ø§Ù„ÙƒØ´Ù Ø¹Ù† Chrome/Android
    const isAndroid = /Android/.test(navigator.userAgent);
    
    // Ø§Ù„ØªØ¹Ø§Ù…Ù„ Ù…Ø¹ Ø­Ø¯Ø« beforeinstallprompt
    let deferredPrompt;
    window.addEventListener('beforeinstallprompt', (e) => {
      // Ù…Ù†Ø¹ Ø§Ù„Ù…ØªØµÙØ­ Ù…Ù† Ø¹Ø±Ø¶ Ø§Ù„Ø¥Ø´Ø¹Ø§Ø± Ø§Ù„ØªÙ„Ù‚Ø§Ø¦ÙŠ
      e.preventDefault();
      // ØªØ®Ø²ÙŠÙ† Ø§Ù„Ø­Ø¯Ø« Ù„Ù„Ø§Ø³ØªØ®Ø¯Ø§Ù… Ù„Ø§Ø­Ù‚Ø§Ù‹
      deferredPrompt = e;
      
      // Ø¹Ø±Ø¶ Ø²Ø± ØªØ«Ø¨ÙŠØª Ù…Ø®ØµØµ ÙÙŠ Ø§Ù„ØªØ·Ø¨ÙŠÙ‚
      const installButton = document.createElement('button');
      installButton.id = 'installButton';
      installButton.innerHTML = 'ğŸ“² ØªØ«Ø¨ÙŠØª Ø§Ù„ØªØ·Ø¨ÙŠÙ‚';
      installButton.className = 'fixed bottom-4 left-4 z-50 bg-primary-600 text-white px-4 py-2 rounded-lg shadow-lg hover:bg-primary-700 transition';
      installButton.style.display = 'none';
      
      document.body.appendChild(installButton);
      
      // Ø¹Ø±Ø¶ Ø§Ù„Ø²Ø± Ø¨Ø¹Ø¯ ØªØ­Ù…ÙŠÙ„ React
      setTimeout(() => {
        const root = document.getElementById('root');
        if (root && root.children.length > 0) {
          installButton.style.display = 'block';
        }
      }, 3000);
      
      // Ø¹Ù†Ø¯ Ø§Ù„Ù†Ù‚Ø± Ø¹Ù„Ù‰ Ø²Ø± Ø§Ù„ØªØ«Ø¨ÙŠØª
      installButton.addEventListener('click', async () => {
        // Ø¥Ø®ÙØ§Ø¡ Ø§Ù„Ø²Ø±
        installButton.style.display = 'none';
        
        // Ø¹Ø±Ø¶ Ù†Ø§ÙØ°Ø© Ø§Ù„ØªØ«Ø¨ÙŠØª
        deferredPrompt.prompt();
        
        // Ø§Ù†ØªØ¸Ø§Ø± Ø§Ø®ØªÙŠØ§Ø± Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…
        const { outcome } = await deferredPrompt.userChoice;
        
        if (outcome === 'accepted') {
          console.log('ØªÙ… ØªØ«Ø¨ÙŠØª Ø§Ù„ØªØ·Ø¨ÙŠÙ‚ Ø¨Ù†Ø¬Ø§Ø­');
        } else {
          console.log('ØªÙ… Ø±ÙØ¶ ØªØ«Ø¨ÙŠØª Ø§Ù„ØªØ·Ø¨ÙŠÙ‚');
        }
        
        deferredPrompt = null;
      });
    });
    
    // Ø¥Ø±Ø´Ø§Ø¯Ø§Øª ØªØ«Ø¨ÙŠØª iOS
    if (isIOS) {
      window.addEventListener('load', () => {
        const isStandalone = window.navigator.standalone;
        const isSafari = /Safari/.test(navigator.userAgent);
        
        if (!isStandalone && isSafari) {
          // Ø¹Ø±Ø¶ Ø¥Ø±Ø´Ø§Ø¯Ø§Øª ØªØ«Ø¨ÙŠØª iOS
          setTimeout(() => {
            const iosInstallGuide = document.createElement('div');
            iosInstallGuide.id = 'iosInstallGuide';
            iosInstallGuide.innerHTML = `
              <div class="fixed bottom-4 left-4 right-4 z-50 bg-dark-800 text-white p-4 rounded-lg shadow-xl">
                <div class="flex justify-between items-center">
                  <div>
                    <h3 class="font-bold">ğŸ“± ØªØ«Ø¨ÙŠØª Ø§Ù„ØªØ·Ø¨ÙŠÙ‚</h3>
                    <p class="text-sm mt-1">Ù„Ù„ØªØ«Ø¨ÙŠØª: Ø§Ù†Ù‚Ø± Ø¹Ù„Ù‰ Ø²Ø± Ø§Ù„Ù…Ø´Ø§Ø±ÙƒØ© Ø«Ù… "Ø£Ø¶Ù Ø¥Ù„Ù‰ Ø§Ù„Ø´Ø§Ø´Ø© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©"</p>
                  </div>
                  <button id="closeGuide" class="text-gray-400 hover:text-white">âœ•</button>
                </div>
              </div>
            `;
            document.body.appendChild(iosInstallGuide);
            
            document.getElementById('closeGuide').addEventListener('click', () => {
              iosInstallGuide.remove();
            });
            
            // Ø¥Ø®ÙØ§Ø¡ Ø§Ù„Ø¥Ø±Ø´Ø§Ø¯Ø§Øª Ø¨Ø¹Ø¯ 10 Ø«ÙˆØ§Ù†ÙŠ
            setTimeout(() => {
              if (iosInstallGuide.parentNode) {
                iosInstallGuide.remove();
              }
            }, 10000);
          }, 5000);
        }
      });
    }
  </script>
  
  <script type="module" src="/src/main.tsx"></script>
</body>
</html>